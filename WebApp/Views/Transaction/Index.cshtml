@model IEnumerable<WebApp.Models.TransactionModel.TransactionViewModel>
@{
    ViewBag.Title = "Transactions List";
    var currentPage = Convert.ToInt32(ViewData["CurrentPage"] ?? 1);
    var totalPages = ViewBag.TotalPages?? 1;
    var message = TempData["Message"];
    var warning = TempData["Warning"];
}
@if (message != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @message
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}
@if (warning != null)
{
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        @warning
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <h1 class="mb-4">@ViewBag.Title</h1>
            <div class="mb-3 d-flex justify-content-between align-items-center">
                <a href="@Url.Action("Create", "Transaction")" class="btn btn-primary">
                    <i class="bi bi-plus-circle"></i> Add New Transaction
                </a>
                <div>
                    <div class="btn-group">
                        <button type="button" class="btn btn-success dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                            Export
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" asp-controller="ImportExport" asp-action="ExportAllTransactionToExcel">Excel</a></li>
                            <li><a class="dropdown-item" asp-controller="ImportExport" asp-action="ExportAllTransactionToPDF">PDF</a></li>
                        </ul>
                    </div>
                    <a asp-controller="ImportExport" asp-action="Import" asp-route-comeFrom="Transaction" class="btn btn-warning">Import</a>
                </div>
            </div>
            <ul class="list-group">
                @{
                    ViewData["ShowExportButton"] = false;
                    await Html.RenderPartialAsync("_TransactionsTable", Model);
                }
            </ul>
            @* @Html.Partial("_Pagination") *@
            
        </div>
    </div>
</div>